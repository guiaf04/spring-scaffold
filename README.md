# Spring Scaffold CLI

üöÄ **Version 2.1.0** - Command-line application to assist in building Java and Spring Boot applications, offering automatic and **functional** scaffold generation for models, controllers, services, repositories, and complete projects.

## ‚ú® What's New in v2.1.0

### üéØ **Intuitive Syntax and Positional Parameters**
- **Short aliases**: `--pkg`, `--deps`, `--entity`, `--db`, `-p`, `-m`, `-t`
- **Positional parameters**: `spring-scaffold model User name:String email:String age:Integer`
- **50% faster development**: Less typing, more productivity
- **100% compatible**: All old syntax continues to work

## ‚ú® Features

### üéØ Code Generation (100% Functional)
- **Models/Entities**: Class creation with JPA annotations, validations, Lombok and constructors
- **Controllers**: Complete REST controllers with CRUD endpoints, Swagger and validations
- **Services**: Service classes with interfaces, implementations and transactions
- **Repositories**: JPA/MongoDB repository interfaces with custom queries
- **Projects**: Complete Spring Boot projects with Maven structure

### üèóÔ∏è Project Templates
- **Spring Boot Project**: Complete structure with pom.xml, application.properties
- **Database Configurations**: Support for H2, MySQL, PostgreSQL
- **Docker**: Optional Dockerfile files
- **Documentation**: Automatic README.md and .gitignore

## üöÄ Quick Start

### Prerequisites
- Java 17+
- Maven 3.8+

### Installation
```bash
git clone https://github.com/guiaf04/spring-scaffold.git
cd spring-scaffold
mvn clean package -DskipTests
```

### Basic Usage

#### üéØ **New Syntax (v2.1.0) - Recommended**
```bash
# Generate a model with natural syntax
./spring-scaffold model User name:String email:String age:Integer --pkg com.example.entity

# Generate a controller with aliases
./spring-scaffold controller UserController --entity User --pkg com.example.controller

# Generate a service with shortcuts
./spring-scaffold service UserService -m User -p com.example.service

# Generate a concise repository
./spring-scaffold repository UserRepository -m User -p com.example.repository -t JPA

# Create new project with aliases
./spring-scaffold project my-spring-app --pkg com.example.myapp --deps web,jpa,security
```

#### ‚ö™ **Classic Syntax (still works)**
```bash
# Generate a model
./spring-scaffold model User -p com.example.model -f "name:String,email:String,age:Integer"

# Generate a controller
./spring-scaffold controller UserController -m User

# Generate a service
./spring-scaffold service UserService -m User

# Generate a repository
./spring-scaffold repository UserRepository -m User

# Create new project
./spring-scaffold project my-spring-app --package com.example.myapp
```

## üìö Available Commands

### `model`
Generates a model/entity class with JPA annotations.

**üí´ New Syntax (v2.1.0):**
```bash
spring-scaffold model <ClassName> [field:type] [field:type] [options]
```

**Examples:**
```bash
# Natural syntax with positional parameters
spring-scaffold model User name:String email:String age:Integer

# With aliases and validation
spring-scaffold model Product name:String price:BigDecimal --pkg com.example.entity --valid

# Using shortcuts
spring-scaffold model Customer name:String email:String -p com.app.model --entity --data
```

**Options:**
- `-p, --pkg, --package <package>`: Class package (default: com.example.model)
- `-f, --fields <fields>`: Field list in "name:type,name:type" format (alternative to positional)
- `-t, --tbl, --table <table>`: Table name (default: class name in snake_case)
- `--jpa, --entity`: Add JPA annotations (default: true)
- `--data, --lombok`: Use Lombok annotations (default: true)
- `--valid, --validation`: Include Bean Validation annotations (default: false)

### `controller`
Generates a REST controller with CRUD endpoints.

**üí´ New Syntax (v2.1.0):**
```bash
spring-scaffold controller <ControllerName> [options]
```

**Examples:**
```bash
# With intuitive aliases
spring-scaffold controller UserController --entity User --pkg com.example.controller

# Using shortcuts
spring-scaffold controller ProductController -m Product -p com.app.controller
```

**Options:**
- `-p, --pkg, --package <package>`: Controller package (default: com.example.controller)
- `-m, --model, --entity <model>`: Associated model class
- `--path <path>`: API base path (default: /api/v1)

### `service`
Generates a service class.

**üí´ New Syntax (v2.1.0):**
```bash
spring-scaffold service <ServiceName> [options]
```

**Examples:**
```bash
# With aliases
spring-scaffold service UserService --entity User --pkg com.example.service

# Maximum conciseness
spring-scaffold service ProductService -m Product -p com.app.service
```

**Options:**
- `-p, --pkg, --package <package>`: Service package (default: com.example.service)
- `-m, --model, --entity <model>`: Associated model class
- `--interface`: Generate service interface (default: true)

### `repository`
Generates a JPA repository.

**üí´ New Syntax (v2.1.0):**
```bash
spring-scaffold repository <RepositoryName> [options]
```

**Examples:**
```bash
# With aliases
spring-scaffold repository UserRepository --entity User --pkg com.example.repository

# Using single-letter shortcuts
spring-scaffold repository ProductRepository -m Product -p com.app.repo -t JPA
```

**Options:**
- `-p, --pkg, --package <package>`: Repository package (default: com.example.repository)
- `-m, --model, --entity <model>`: Associated model class
- `-t, --type <type>`: Repository type (JPA, MongoDB) (default: JPA)

### `project`
Creates a new Spring Boot project.

**üí´ New Syntax (v2.1.0):**
```bash
spring-scaffold project <project-name> [options]
```

**Examples:**
```bash
# With intuitive aliases
spring-scaffold project my-api --pkg com.example.myapi --deps web,jpa,security --db MYSQL

# Using shortcuts
spring-scaffold project ecommerce -p com.shop.ecommerce -d web,jpa,validation -s 3.2.0
```

**Options:**
- `-p, --pkg, --package <package>`: Project base package (default: com.example)
- `-g, --group, --group-id <group>`: Maven Group ID (default: --package value)
- `-s, --spring, --spring-version <version>`: Spring Boot version (default: 3.2.0)
- `-j, --java, --java-version <version>`: Java version (default: 17)
- `-d, --deps, --dependencies <deps>`: Comma-separated dependencies
- `--db, --database <db>`: Database type (H2, MYSQL, POSTGRESQL, MONGODB)

## üéØ **Syntax Comparison**

| Command | ‚ùå Before (v2.0) | ‚úÖ Now (v2.1) | üíæ Savings |
|---------|------------------|------------------|-------------|
| **Model** | `--package --fields name:String,email:String` | `name:String email:String --pkg` | **35%** |
| **Project** | `--package --dependencies` | `--pkg --deps` | **50%** |
| **Controller** | `--package --model` | `--pkg --entity` or `-p -m` | **40%** |
| **Repository** | `--package --model --type` | `-p -m -t` | **65%** |

## üìù Examples

### üöÄ Creating a Complete CRUD (New Syntax v2.1)

```bash
# 1. Create the model with natural syntax
spring-scaffold model Product name:String price:BigDecimal description:String active:Boolean --pkg com.example.entity --valid

# 2. Create the repository with shortcuts
spring-scaffold repository ProductRepository -m Product -p com.example.repository

# 3. Create the concise service
spring-scaffold service ProductService -m Product -p com.example.service

# 4. Create the controller with aliases
spring-scaffold controller ProductController --entity Product --pkg com.example.controller
```

### ‚ö° Rapid API Development

```bash
# Complete project with aliases
spring-scaffold project ecommerce-api --pkg com.example.ecommerce --deps web,jpa,security,validation --db POSTGRESQL

# Multiple entities quickly
cd ecommerce-api
spring-scaffold model User name:String email:String role:String
spring-scaffold model Order total:BigDecimal status:String userId:Long  
spring-scaffold model Item name:String price:BigDecimal stock:Integer

# Generate all layers with maximum efficiency
spring-scaffold controller UserController -m User -p com.example.ecommerce.controller
spring-scaffold controller OrderController -m Order -p com.example.ecommerce.controller
spring-scaffold controller ItemController -m Item -p com.example.ecommerce.controller
```

### üìä Productivity Comparison

#### ‚ùå **Before (v2.0.0):**
```bash
spring-scaffold model Customer --package com.example.entity --fields name:String,email:String,phone:String,age:Integer
spring-scaffold controller CustomerController --package com.example.controller --model Customer
spring-scaffold service CustomerService --package com.example.service --model Customer  
spring-scaffold repository CustomerRepository --package com.example.repository --model Customer --type JPA
```

#### ‚úÖ **Now (v2.1.0):**
```bash
spring-scaffold model Customer name:String email:String phone:String age:Integer --pkg com.example.entity
spring-scaffold controller CustomerController --entity Customer --pkg com.example.controller
spring-scaffold service CustomerService -m Customer -p com.example.service
spring-scaffold repository CustomerRepository -m Customer -p com.example.repository -t JPA
```

**üéØ Result: 50% less typing, more natural syntax!**

### üéØ Useful Command Templates

```bash
# Template for complete CRUD
ENTITY="Product"
PKG="com.example.ecommerce"

spring-scaffold model $ENTITY name:String price:BigDecimal --pkg $PKG.entity --valid
spring-scaffold repository ${ENTITY}Repository -m $ENTITY -p $PKG.repository
spring-scaffold service ${ENTITY}Service -m $ENTITY -p $PKG.service  
spring-scaffold controller ${ENTITY}Controller -m $ENTITY -p $PKG.controller
```

## üèóÔ∏è Architecture

### Project Structure
```
spring-scaffold-cli/
‚îú‚îÄ‚îÄ src/main/java/
‚îÇ   ‚îú‚îÄ‚îÄ com/scaffold/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SpringScaffoldCLI.java          # Main class
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ commands/                        # CLI commands
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ModelCommand.java
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ControllerCommand.java
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ServiceCommand.java
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RepositoryCommand.java
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ProjectCommand.java
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ generators/                      # Code generators
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ModelGenerator.java
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ControllerGenerator.java
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ServiceGenerator.java
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RepositoryGenerator.java
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ProjectGenerator.java
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ templates/                       # Template engine
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TemplateEngine.java
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TemplateContext.java
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/                          # Data models
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FieldInfo.java
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ClassInfo.java
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ProjectInfo.java
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/                           # Utilities
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ FileUtils.java
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ NamingUtils.java
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ ValidationUtils.java
‚îú‚îÄ‚îÄ src/main/resources/
‚îÇ   ‚îî‚îÄ‚îÄ templates/                           # Mustache templates
‚îÇ       ‚îú‚îÄ‚îÄ model.java.mustache
‚îÇ       ‚îú‚îÄ‚îÄ controller.java.mustache
‚îÇ       ‚îú‚îÄ‚îÄ service.java.mustache
‚îÇ       ‚îú‚îÄ‚îÄ service-impl.java.mustache
‚îÇ       ‚îú‚îÄ‚îÄ repository.java.mustache
‚îÇ       ‚îî‚îÄ‚îÄ project/                         # Project templates
‚îÇ           ‚îú‚îÄ‚îÄ pom.xml.mustache
‚îÇ           ‚îú‚îÄ‚îÄ application.yml.mustache
‚îÇ           ‚îî‚îÄ‚îÄ main-class.java.mustache
‚îî‚îÄ‚îÄ pom.xml
```

### Technologies Used
- **Picocli**: CLI framework
- **Mustache**: Template engine
- **Lombok**: Boilerplate reduction
- **Jackson**: JSON/YAML manipulation
- **Maven**: Dependency management

## üõ†Ô∏è Development

### How to Contribute
1. Fork the repository
2. Create a branch for your feature (`git checkout -b feature/new-feature`)
3. Commit your changes (`git commit -am 'Add new feature'`)
4. Push to the branch (`git push origin feature/new-feature`)
5. Open a Pull Request

### Adding New Commands
1. Create command class in `src/main/java/com/scaffold/commands/`
2. Implement generator in `src/main/java/com/scaffold/generators/`
3. Create template in `src/main/resources/templates/`
4. Register command in main class

### Running Tests
```bash
mvn test
```

### Template Testing
**‚ö†Ô∏è Important**: Always run the template test script instead of testing multiple commands manually:

```bash
./test-templates.sh
```

This script performs comprehensive testing of all templates:
- ‚úÖ Generates complete Spring Boot project
- ‚úÖ Tests all component generation (model, service, repository, controller)
- ‚úÖ Validates Maven compilation and tests
- ‚úÖ Verifies code quality and internationalization
- ‚úÖ Ensures all templates work correctly together

The script automatically cleans up test artifacts and provides detailed feedback on each test phase.

### Build
```bash
mvn clean package
```

## üåç Documentation

- **English**: [README.md](README.md) (this file)
- **Portuguese**: [docs/pt-BR/README-pt.md](docs/pt-BR/README-pt.md)

## üìÑ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ü§ù Support

For support, open an issue on GitHub or contact through [email].

## üìã Changelog

### Version 2.1.0 (2025-08-22)
- ‚ú® **NEW SYNTAX**: Intuitive aliases and positional parameters
- üéØ **Positional parameters**: `model User name:String email:String age:Integer`
- ‚ö° **Short aliases**: `--pkg`, `--deps`, `--entity`, `--db`, `-p`, `-m`, `-t`
- üöÄ **Productivity**: Up to 50% faster development
- üîÑ **Compatibility**: 100% compatible with v2.0.0 syntax
- üìù **Documentation**: Updated README with comparative examples
- üåç **Internationalization**: Main docs in English, Portuguese in docs/pt-BR/

### Version 2.0.0 (2025-08-22)
- ‚úÖ **FUNCTIONAL**: All commands now generate real files
- üéØ Complete REST controllers with CRUD, Swagger, validations
- üîß Services with interface + implementation or single class
- üì¶ JPA repositories with custom queries
- üèóÔ∏è Complete Spring Boot projects with Maven
- üêõ Bug fixes and stability improvements

### Version 1.0.0 (2025-08-22)
- üéâ Initial version with CLI structure
- üìã Functional model command
- ‚ö†Ô∏è Other commands only simulated generation

See [CHANGELOG.md](CHANGELOG.md) for complete details.

## üó∫Ô∏è Roadmap

- [ ] Kotlin support
- [ ] Microservices templates
- [ ] Spring Cloud integration
- [ ] Automatic documentation generation
- [ ] IDE plugins
- [ ] GraphQL support
- [ ] Performance testing templates